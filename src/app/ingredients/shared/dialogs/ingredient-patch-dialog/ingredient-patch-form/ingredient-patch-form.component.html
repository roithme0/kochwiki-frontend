<form
  action="PATCH"
  class="ingredient-form"
  [formGroup]="ingredientForm"
  (ngSubmit)="onSubmit(ingredientForm.value)"
>
  <div class="fields">
    <mat-form-field appearance="fill">
      <mat-label>{{ verboseNames?.name }}</mat-label>
      <input matInput formControlName="name" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ verboseNames?.brand }}</mat-label>
      <input matInput formControlName="brand" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>{{ verboseNames?.unit }}</mat-label>
      <mat-select formControlName="unit" single>
        @if(unitChoices){@for(choice of getKeys(unitChoices); track choice) {
        <mat-option [value]="choice">{{ unitChoices[choice] }}</mat-option
        >} }
      </mat-select>
    </mat-form-field>

    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title> NÃ¤hrstoffangaben </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="nutrition-wrapper">
        <mat-form-field appearance="fill">
          <mat-label>{{ verboseNames?.kcal }}</mat-label>
          <input matInput type="number" formControlName="kcal" />
        </mat-form-field>

        <div class="makros-wrapper">
          <mat-form-field appearance="fill">
            <mat-label>{{ verboseNames?.carbs }}</mat-label>
            <input matInput type="number" formControlName="carbs" />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>{{ verboseNames?.protein }}</mat-label>
            <input matInput type="number" formControlName="protein" />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>{{ verboseNames?.fat }}</mat-label>
            <input matInput type="number" formControlName="fat" />
          </mat-form-field>
        </div>
      </div>
    </mat-expansion-panel>
  </div>

  <button
    mat-stroked-button
    type="submit"
    color="primary"
    [disabled]="!ingredientForm.valid"
  >
    Speichern
  </button>
</form>
